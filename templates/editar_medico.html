{# editar_medico.html #}
{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h2>Editar Médico</h2>

    <form action="{{ url_for('editar_medico', id_medico=medico.id) }}" method="POST">
        <div class="form-group">
            <label for="nome">Nome</label>
            <input type="text" class="form-control" id="nome" name="nome" value="{{ medico.nome }}" required>
        </div>
        <div class="form-group">
            <label for="crm">CRM</label>
            <input type="text" class="form-control" id="crm" name="crm" value="{{ medico.crm }}" required>
        </div>
        <div class="form-group">
            <label for="especialidades">Especialidades</label>
            <div id="especialidades-list">
                {% for especialidade in especialidades %}
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="especialidades" value="{{ especialidade.id }}" {% if especialidade.id in especialidades_do_medico %} checked {% endif %}>
                        <label class="form-check-label">{{ especialidade.nome }}</label>
                    </div>
                {% endfor %}
            </div>
            <button type="button" class="btn btn-secondary mt-2" id="btn-adicionar-especialidade">Adicionar Especialidade</button>
        </div>
        <button type="submit" class="btn btn-success">Salvar</button>
    </form>

    <script>
        document.getElementById('btn-adicionar-especialidade').addEventListener('click', function() {
            // Lógica para adicionar uma nova especialidade
        });
    </script>
</div>
{% endblock %}
